define(function(require,exports,module){require("lib/bootstrap-table/bootstrap-table.js"),function($){"use strict";var t=function(t,e){this.options=$.extend({},$.fn.editableform.defaults,e),this.$div=$(t),this.options.scope||(this.options.scope=this)};t.prototype={constructor:t,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=$($.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append($.fn.editableform.buttons),"bottom"===this.options.showbuttons&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=$($.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),$.when(this.input.render()).then($.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click($.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var t=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(t),this.$form.submit($.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width())&&this.$loading.width(t),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),!1!==t&&this.input.activate(),this.$div.triggerHandler("show")},error:function(t){var e,i=this.$form.find(".control-group"),s=this.$form.find(".editable-error-block");if(!1===t)i.removeClass($.fn.editableform.errorGroupClass),s.removeClass($.fn.editableform.errorBlockClass).empty().hide();else{if(t){e=(""+t).split("\n");for(var n=0;n<e.length;n++)e[n]=$("<div>").text(e[n]).html();t=e.join("<br>")}i.addClass($.fn.editableform.errorGroupClass),s.addClass($.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation(),t.preventDefault();var e=this.input.input2value(),i=this.validate(e);if("object"===$.type(i)&&void 0!==i.newValue){if(e=i.newValue,this.input.value2input(e),"string"==typeof i.msg)return this.error(i.msg),void this.showForm()}else if(i)return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(e)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var s=this.input.value2submit(e);this.isSaving=!0,$.when(this.save(s)).done($.proxy(function(t){this.isSaving=!1;var i="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,e):null;return!1===i?(this.error(!1),void this.showForm(!1)):"string"==typeof i?(this.error(i),void this.showForm()):(i&&"object"==typeof i&&i.hasOwnProperty("newValue")&&(e=i.newValue),this.error(!1),this.value=e,void this.$div.triggerHandler("save",{newValue:e,submitValue:s,response:t}))},this)).fail($.proxy(function(t){this.isSaving=!1;var i;i="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,e):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(i),this.showForm()},this))},save:function(t){this.options.pk=$.fn.editableutils.tryParseJson(this.options.pk,!0);var e,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,s=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==i&&void 0!==i));if(s)return this.showLoading(),e={name:this.options.name||"",value:t,pk:i},"function"==typeof this.options.params?e=this.options.params.call(this.options.scope,e):(this.options.params=$.fn.editableutils.tryParseJson(this.options.params,!0),$.extend(e,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,e):$.ajax($.extend({url:this.options.url,data:e,type:"POST"},this.options.ajaxOptions))},validate:function(t){if(void 0===t&&(t=this.value),"function"==typeof this.options.validate)return this.options.validate.call(this.options.scope,t)},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},$.fn.editableform=function(e){var i=arguments;return this.each(function(){var s=$(this),n=s.data("editableform"),a="object"==typeof e&&e;n||s.data("editableform",n=new t(this,a)),"string"==typeof e&&n[e].apply(n,Array.prototype.slice.call(i,1))})},$.fn.editableform.Constructor=t,$.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},$.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',$.fn.editableform.loading='<div class="editableform-loading"></div>',$.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',$.fn.editableform.errorGroupClass=null,$.fn.editableform.errorBlockClass="editable-error",$.fn.editableform.engine="jquery"}(window.jQuery),function($){"use strict";$.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(t){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(t,e,i){var s,n,a={};if(!$.isArray(e)||!e.length)return a;for(var o=0;o<e.length;o++)s=e[o],t.hasOwnProperty(s)&&(a[s]=t[s]),!0!==i&&(n=s.toLowerCase(),t.hasOwnProperty(n)&&(a[s]=t[n]));return a},getConfigData:function(t){var e={};return $.each(t.data(),function(t,i){("object"!=typeof i||i&&"object"==typeof i&&(i.constructor===Object||i.constructor===Array))&&(e[t]=i)}),e},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(t){return $("<div>").text(t).html()},itemsByValue:function(t,e,i){if(!e||null===t)return[];if("function"!=typeof i){var s=i||"value";i=function(t){return t[s]}}var n=$.isArray(t),a=[],o=this;return $.each(e,function(e,s){if(s.children)a=a.concat(o.itemsByValue(t,s.children,i));else if(n)$.grep(t,function(t){return t==(s&&"object"==typeof s?i(s):s)}).length&&a.push(s);else{var r=s&&"object"==typeof s?i(s):s;t==r&&a.push(s)}}),a},createInput:function(t){var e,i,s=t.type;return"date"===s&&("inline"===t.mode?$.fn.editabletypes.datefield?s="datefield":$.fn.editabletypes.dateuifield&&(s="dateuifield"):$.fn.editabletypes.date?s="date":$.fn.editabletypes.dateui&&(s="dateui"),"date"!==s||$.fn.editabletypes.date||(s="combodate")),"datetime"===s&&"inline"===t.mode&&(s="datetimefield"),"wysihtml5"!==s||$.fn.editabletypes[s]||(s="textarea"),"function"==typeof $.fn.editabletypes[s]?(e=$.fn.editabletypes[s],i=this.sliceObj(t,this.objectKeys(e.defaults)),new e(i)):($.error("Unknown type: "+s),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,i="transition",s=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<s.length;n++)if("string"==typeof e[s[n]+i])return!0;return!1}}}(window.jQuery),function($){"use strict";var t=function(t,e){this.init(t,e)},e=function(t,e){this.init(t,e)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(e,i){this.$element=$(e),this.options=$.extend({},$.fn.editableContainer.defaults,i),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",$.proxy(function(){this.destroy()},this)),$(document).data("editable-handlers-attached")||($(document).on("keyup.editable",function(t){27===t.which&&$(".editable-open").editableContainer("hide")}),$(document).on("click.editable",function(e){var i,s=$(e.target),n=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if($.contains(document.documentElement,e.target)&&!s.is(document)){for(i=0;i<n.length;i++)if(s.is(n[i])||s.parents(n[i]).length)return;t.prototype.closeOthers(e.target)}}),$(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!$.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:$.proxy(this.save,this),nochange:$.proxy(function(){this.hide("nochange")},this),cancel:$.proxy(function(){this.hide("cancel")},this),show:$.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:$.proxy(this.setPosition,this),resize:$.proxy(this.setPosition,this),rendered:$.proxy(function(){this.$element.triggerHandler("shown",$(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open"),!1!==t&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=$("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){$(".editable-open").each(function(e,i){if(i!==t&&!$(i).find(t).length){var s=$(i),n=s.data("editableContainer");n&&("cancel"===n.options.onblur?s.data("editableContainer").hide("onblur"):"submit"===n.options.onblur&&s.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},$.fn.editableContainer=function(i){var s=arguments;return this.each(function(){var n=$(this),a=n.data("editableContainer"),o="object"==typeof i&&i,r="inline"===o.mode?e:t;a||n.data("editableContainer",a=new r(this,o)),"string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(s,1))})},$.fn.editableContainer.Popup=t,$.fn.editableContainer.Inline=e,$.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function($){"use strict";$.extend($.fn.editableContainer.Inline.prototype,$.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=$("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,$.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function($){"use strict";var t=function(t,e){this.$element=$(t),this.options=$.extend({},$.fn.editable.defaults,e,$.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!$.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};t.prototype={constructor:t,init:function(){var t,e=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=$.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value($.trim(this.$element.html())),e=!0):(this.options.value=$.fn.editableutils.tryParseJson(this.options.value,!0),"string"==typeof this.options.value?this.value=this.input.str2value(this.options.value):this.value=this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",$.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":t=!0;break;case"auto":t=!$.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!e;break;default:t=!1}$.when(!t||this.render()).then($.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",t,$.proxy(function(t){var e=$(t.target);e.data("editable")||(e.hasClass(this.options.emptyclass)&&e.empty(),e.editable(this.options).trigger(t))},this))},render:function(t){if(!1!==this.options.display)return this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,e){return t&&"object"==typeof t?void $.each(t,$.proxy(function(t,e){this.option($.trim(t),e)},this)):(this.options[t]=e,"disabled"===t?e?this.disable():this.enable():("value"===t&&this.setValue(e),this.container&&this.container.option(t,e),void(this.input.option&&this.input.option(t,e))))},handleEmpty:function(t){!1!==this.options.display&&(void 0!==t?this.isEmpty=t:"function"==typeof this.input.isEmpty?this.isEmpty=this.input.isEmpty(this.$element):this.isEmpty=""===$.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var e=$.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(e),this.$element.on("save.internal",$.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;i=i||"function"==typeof this.options.url,i=i||!1===this.options.display,i=i||void 0!==e.response,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var s=this.$element,n=s.css("background-color");s.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===n&&(n=""),s.css("background-color",n),s.addClass("editable-bg-transition"),setTimeout(function(){s.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){if("function"==typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(t,e,i){this.value=e?this.input.str2value(t):t,this.container&&this.container.option("value",this.value),$.when(this.render(i)).then($.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},$.fn.editable=function(e){var i={},s=arguments;switch(e){case"validate":return this.each(function(){var t,e=$(this),s=e.data("editable");s&&(t=s.validate())&&(i[s.options.name]=t)}),i;case"getValue":return 2===arguments.length&&!0===arguments[1]?i=this.eq(0).data("editable").value:this.each(function(){var t=$(this),e=t.data("editable");e&&void 0!==e.value&&null!==e.value&&(i[e.options.name]=e.input.value2submit(e.value))}),i;case"submit":var n=arguments[1]||{},a=this,o=this.editable("validate");if($.isEmptyObject(o)){var r={};if(1===a.length){var l=a.data("editable"),h={name:l.options.name||"",value:l.input.value2submit(l.value),pk:"function"==typeof l.options.pk?l.options.pk.call(l.options.scope):l.options.pk};"function"==typeof l.options.params?h=l.options.params.call(l.options.scope,h):(l.options.params=$.fn.editableutils.tryParseJson(l.options.params,!0),$.extend(h,l.options.params)),r={url:l.options.url,data:h,type:"POST"},n.success=n.success||l.options.success,n.error=n.error||l.options.error}else{var u=this.editable("getValue");r={url:n.url,data:u,type:"POST"}}r.success="function"==typeof n.success?function(t){n.success.call(a,t,n)}:$.noop,r.error="function"==typeof n.error?function(){n.error.apply(a,arguments)}:$.noop,n.ajaxOptions&&$.extend(r,n.ajaxOptions),n.data&&$.extend(r.data,n.data),$.ajax(r)}else"function"==typeof n.error&&n.error.call(a,o);return this}return this.each(function(){var i=$(this),n=i.data("editable"),a="object"==typeof e&&e;if(a&&a.selector)return void(n=new t(this,a));n||i.data("editable",n=new t(this,a)),"string"==typeof e&&n[e].apply(n,Array.prototype.slice.call(s,1))})},$.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function($){"use strict";$.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,e,i){this.type=t,this.options=$.extend({},i,e)},prerender:function(){this.$tpl=$(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(t,e){$(e)[this.options.escape?"text":"html"]($.trim(t))},html2value:function(t){return $("<div>").html(t).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return $("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},$.extend($.fn.editabletypes,{abstractinput:t})}(window.jQuery),function($){"use strict";var t=function(t){};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{render:function(){var t=$.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),t.resolve()},function(){this.error=this.options.sourceError,t.resolve()}),t.promise()},html2value:function(t){return null},value2html:function(t,e,i,s){var n=$.Deferred(),a=function(){"function"==typeof i?i.call(e,t,this.sourceData,s):this.value2htmlFinal(t,e),n.resolve()};return null===t?a.call(this):this.onSourceReady(a,function(){n.resolve()}),n.promise()},onSourceReady:function(t,e){var i;if($.isFunction(this.options.source)?(i=this.options.source.call(this.options.scope),this.sourceData=null):i=this.options.source,this.options.sourceCache&&$.isArray(this.sourceData))return void t.call(this);try{i=$.fn.editableutils.tryParseJson(i,!1)}catch(t){return void e.call(this)}if("string"==typeof i){if(this.options.sourceCache){var s,n=i;if($(document).data(n)||$(document).data(n,{}),s=$(document).data(n),!1===s.loading&&s.sourceData)return this.sourceData=s.sourceData,this.doPrepend(),void t.call(this);if(!0===s.loading)return s.callbacks.push($.proxy(function(){this.sourceData=s.sourceData,this.doPrepend(),t.call(this)},this)),void s.err_callbacks.push($.proxy(e,this));s.loading=!0,s.callbacks=[],s.err_callbacks=[]}var a=$.extend({url:i,type:"get",cache:!1,dataType:"json",success:$.proxy(function(i){s&&(s.loading=!1),this.sourceData=this.makeArray(i),$.isArray(this.sourceData)?(s&&(s.sourceData=this.sourceData,$.each(s.callbacks,function(){this.call()})),this.doPrepend(),t.call(this)):(e.call(this),s&&$.each(s.err_callbacks,function(){this.call()}))},this),error:$.proxy(function(){e.call(this),s&&(s.loading=!1,$.each(s.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);$.ajax(a)}else this.sourceData=this.makeArray(i),$.isArray(this.sourceData)?(this.doPrepend(),t.call(this)):e.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&($.isArray(this.prependData)||($.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=$.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),$.isArray(this.prependData)&&$.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(t,e){},makeArray:function(t){var e,i,s,n,a=[];if(!t||"string"==typeof t)return null;if($.isArray(t)){n=function(t,s){if(i={value:t,text:s},e++>=2)return!1};for(var o=0;o<t.length;o++)s=t[o],"object"==typeof s?(e=0,$.each(s,n),1===e?a.push(i):e>1&&(s.children&&(s.children=this.makeArray(s.children)),a.push(s))):a.push({value:s,text:s})}else $.each(t,function(t,e){a.push({value:t,text:e})});return a},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),$.fn.editabletypes.list=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("text",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),$.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=$('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup($.proxy(function(t){if(!~$.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var e=this;this.t=setTimeout(function(){e.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click($.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(t){if(this.$clear){var e=this.$input.val().length,i=this.$clear.is(":visible");e&&!i&&this.$clear.show(),!e&&i&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),$.fn.editabletypes.text=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("textarea",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(t){t.ctrlKey&&13===t.which&&$(this).closest("form").submit()})},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),$.fn.editabletypes.textarea=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("select",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.list),$.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(e,i){var s;if($.isArray(i))for(var n=0;n<i.length;n++)s={},i[n].children?(s.label=i[n].text,e.append(t($("<optgroup>",s),i[n].children))):(s.value=i[n].value,i[n].disabled&&(s.disabled=!0),e.append($("<option>",s).text(i[n].text)));return e};t(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(t){13===t.which&&$(this).closest("form").submit()})},value2htmlFinal:function(t,e){var i="",s=$.fn.editableutils.itemsByValue(t,this.sourceData);s.length&&(i=s[0].text),$.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,e)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){$(this).closest("form").submit()})}}),t.defaults=$.extend({},$.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),$.fn.editabletypes.select=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("checklist",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.list),$.extend(t.prototype,{renderList:function(){var t;if(this.$tpl.empty(),$.isArray(this.sourceData)){for(var e=0;e<this.sourceData.length;e++)t=$("<label>").append($("<input>",{type:"checkbox",value:this.sourceData[e].value})).append($("<span>").text(" "+this.sourceData[e].text)),$("<div>").append(t).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(t){return $.isArray(t)?t.sort().join($.trim(this.options.separator)):""},str2value:function(t){var e,i=null;return"string"==typeof t&&t.length?(e=new RegExp("\\s*"+$.trim(this.options.separator)+"\\s*"),i=t.split(e)):i=$.isArray(t)?t:[t],i},value2input:function(t){this.$input.prop("checked",!1),$.isArray(t)&&t.length&&this.$input.each(function(e,i){var s=$(i);$.each(t,function(t,e){s.val()==e&&s.prop("checked",!0)})})},input2value:function(){var t=[];return this.$input.filter(":checked").each(function(e,i){t.push($(i).val())}),t},value2htmlFinal:function(t,e){var i=[],s=$.fn.editableutils.itemsByValue(t,this.sourceData),n=this.options.escape;s.length?($.each(s,function(t,e){var s=n?$.fn.editableutils.escape(e.text):e.text;i.push(s)}),$(e).html(i.join("<br>"))):$(e).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){13===t.which&&$(this).closest("form").submit()})}}),t.defaults=$.extend({},$.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),$.fn.editabletypes.checklist=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("password",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.text),$.extend(t.prototype,{value2html:function(t,e){t?$(e).text("[hidden]"):$(e).empty()},html2value:function(t){return null}}),t.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),$.fn.editabletypes.password=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("email",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.text),t.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),$.fn.editabletypes.email=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("url",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.text),t.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),$.fn.editabletypes.url=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("tel",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.text),t.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),$.fn.editabletypes.tel=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("number",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.text),$.extend(t.prototype,{render:function(){t.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),t.defaults=$.extend({},$.fn.editabletypes.text.defaults,{
tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),$.fn.editabletypes.number=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("range",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.number),$.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){$(this).siblings("output").text($(this).val())})},activate:function(){this.$input.focus()}}),t.defaults=$.extend({},$.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),$.fn.editabletypes.range=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("time",e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{render:function(){this.setClass()}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),$.fn.editabletypes.time=t}(window.jQuery),function($){"use strict";var t=function(e){if(this.init("select2",e,t.defaults),e.select2=e.select2||{},this.sourceData=null,e.placeholder&&(e.select2.placeholder=e.placeholder),!e.select2.tags&&e.source){var i=e.source;$.isFunction(e.source)&&(i=e.source.call(e.scope)),"string"==typeof i?(e.select2.ajax=e.select2.ajax||{},e.select2.ajax.data||(e.select2.ajax.data=function(t){return{query:t}}),e.select2.ajax.results||(e.select2.ajax.results=function(t){return{results:t}}),e.select2.ajax.url=i):(this.sourceData=this.convertSource(i),e.select2.data=this.sourceData)}if(this.options.select2=$.extend({},t.defaults.select2,e.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var s=this.idFunc||"id";this.idFunc=function(t){return t[s]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",$.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){$(this).closest("form").parent().triggerHandler("resize")})},value2html:function(e,i){var s,n="",a=this;this.options.select2.tags?s=e:this.sourceData&&(s=$.fn.editableutils.itemsByValue(e,this.sourceData,this.idFunc)),$.isArray(s)?(n=[],$.each(s,function(t,e){n.push(e&&"object"==typeof e?a.formatSelection(e):e)})):s&&(n=a.formatSelection(s)),n=$.isArray(n)?n.join(this.options.viewseparator):n,t.superclass.value2html.call(this,n,i)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(t){if($.isArray(t)&&(t=t.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var e=this.options.select2.id,i=this.options.select2.formatSelection;if(!e&&!i){var s=$(this.options.scope);if(!s.data("editable").isEmpty){var n={id:t,text:s.text()};this.$input.select2("data",n)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,e){if("string"!=typeof t||!this.isMultiple)return t;e=e||this.getSeparator();var i,s,n;if(null===t||t.length<1)return null;for(i=t.split(e),s=0,n=i.length;s<n;s+=1)i[s]=$.trim(i[s]);return i},autosubmit:function(){this.$input.on("change",function(t,e){e||$(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||$.fn.select2.defaults.separator},convertSource:function(t){if($.isArray(t)&&t.length&&void 0!==t[0].value)for(var e=0;e<t.length;e++)void 0!==t[e].value&&(t[e].id=t[e].value,delete t[e].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),$.fn.editabletypes.select2=t}(window.jQuery),function($){var t=function(t,e){if(this.$element=$(t),!this.$element.is("input"))return void $.error("Combodate should be applied to INPUT element");this.options=$.extend({},$.fn.combodate.defaults,e,this.$element.data()),this.init()};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=$('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",$.proxy(function(t){this.$element.val(this.getValue()).change(),this.options.smartDays&&($(t.target).is(".month")||$(t.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;return $.each(this.map,function(e,i){i=i[0];var s=new RegExp(i+"+"),n=i.length>1?i.substring(1,2):i;t=t.replace(s,"{"+n+"}")}),t=t.replace(/ /g,"&nbsp;"),$.each(this.map,function(e,i){i=i[0];var s=i.length>1?i.substring(1,2):i;t=t.replace("{"+s+"}",'<select class="'+e+'"></select>')}),t},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var i="fill"+t.charAt(0).toUpperCase()+t.slice(1),s=this[i](),n=e.val();e.empty();for(var a=0;a<s.length;a++)e.append('<option value="'+s[a][0]+'">'+s[a][1]+"</option>");e.val(n)}},fillCommon:function(t){var e,i=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var s="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];s=s.split(" ").reverse()[0],i.push(["",s])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var t,e,i=this.fillCommon("d"),s=-1!==this.options.template.indexOf("DD"),n=31;if(this.options.smartDays&&this.$month&&this.$year){var a=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(a)||isNaN(o)||(n=moment([o,a]).daysInMonth())}for(e=1;e<=n;e++)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.fillCommon("M"),s=-1!==this.options.template.indexOf("MMMM"),n=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(e=0;e<=11;e++)t=s?moment().date(1).month(e).format("MMMM"):n?moment().date(1).month(e).format("MMM"):a?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],s=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=s?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var t,e,i=this.fillCommon("h"),s=-1!==this.options.template.indexOf("h"),n=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=s?1:0,o=s?12:23;for(e=a;e<=o;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.fillCommon("m"),s=-1!==this.options.template.indexOf("mm");for(e=0;e<=59;e+=this.options.minuteStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.fillCommon("s"),s=-1!==this.options.template.indexOf("ss");for(e=0;e<=59;e+=this.options.secondStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]},getValue:function(t){var e,i={},s=this,n=!1;return $.each(this.map,function(t,e){if("ampm"!==t){var a="day"===t?1:0;return i[t]=s["$"+t]?parseInt(s["$"+t].val(),10):a,isNaN(i[t])?(n=!0,!1):void 0}}),n?"":(this.$ampm&&(12===i.hour?i.hour="am"===this.$ampm.val()?0:12:i.hour="am"===this.$ampm.val()?i.hour:i.hour+12),e=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(e),t=void 0===t?this.options.format:t,null===t?e.isValid()?e:null:e.isValid()?e.format(t):"")},setValue:function(t){function e(t,e){var i={};return t.children("option").each(function(t,s){var n,a=$(s).attr("value");""!==a&&(n=Math.abs(a-e),(void 0===i.distance||n<i.distance)&&(i={value:a,distance:n}))}),i.value}if(t){var i="string"==typeof t?moment(t,this.options.format):moment(t),s=this,n={};i.isValid()&&($.each(this.map,function(t,e){"ampm"!==t&&(n[t]=i[e[1]]())}),this.$ampm&&(n.hour>=12?(n.ampm="pm",n.hour>12&&(n.hour-=12)):(n.ampm="am",0===n.hour&&(n.hour=12))),$.each(n,function(t,i){s["$"+t]&&("minute"===t&&s.options.minuteStep>1&&s.options.roundTime&&(i=e(s["$"+t],i)),"second"===t&&s.options.secondStep>1&&s.options.roundTime&&(i=e(s["$"+t],i)),s["$"+t].val(i))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return t<=9?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},$.fn.combodate=function(e){var i,s=Array.apply(null,arguments);return s.shift(),"getValue"===e&&this.length&&(i=this.eq(0).data("combodate"))?i.getValue.apply(i,s):this.each(function(){var i=$(this),n=i.data("combodate"),a="object"==typeof e&&e;n||i.data("combodate",n=new t(this,a)),"string"==typeof e&&"function"==typeof n[e]&&n[e].apply(n,s)})},$.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:(new Date).getFullYear(),yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function($){"use strict";var t=function(e){this.init("combodate",e,t.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),e.combodate=$.fn.editableutils.tryParseJson(e.combodate,!0),this.options.combodate=$.extend({},t.defaults.combodate,e.combodate,{format:this.options.format,template:this.options.template})};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===$.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(e,i){var s=e?e.format(this.options.viewformat):"";t.superclass.value2html.call(this,s,i)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),$.fn.editabletypes.combodate=t}(window.jQuery),function($){"use strict";var t=$.fn.editableform.Constructor.prototype.initInput;$.extend($.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=$($.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){t.apply(this);var e=null===this.input.options.inputclass||!1===this.input.options.inputclass,i="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~$.inArray(this.input.type,i)&&(this.input.$input.addClass("form-control"),e&&(this.input.options.inputclass="input-sm",this.input.$input.addClass("input-sm")));for(var s=this.$form.find(".editable-buttons"),n=e?["input-sm"]:this.input.options.inputclass.split(" "),a=0;a<n.length;a++)"input-lg"===n[a].toLowerCase()&&s.find("button").removeClass("btn-sm").addClass("btn-lg")}}),$.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',$.fn.editableform.errorGroupClass="has-error",$.fn.editableform.errorBlockClass=null,$.fn.editableform.engine="bs3"}(window.jQuery),function($){"use strict";$.extend($.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:$.fn.popover.Constructor.DEFAULTS,initContainer:function(){$.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var t;this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){(function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,s=i.test(e);s&&(e=e.replace(i,"")||"top");var n=this.getPosition(),a=t[0].offsetWidth,o=t[0].offsetHeight;if(s){var r=this.$element.parent(),l=e,h=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:r.outerWidth(),p="body"==this.options.container?window.innerHeight:r.outerHeight(),d="body"==this.options.container?0:r.offset().left;e="bottom"==e&&n.top+n.height+o-h>p?"top":"top"==e&&n.top-h-o<0?"bottom":"right"==e&&n.right+a>u?"left":"left"==e&&n.left-a<d?"right":e,t.removeClass(l).addClass(e)}var c=this.getCalculatedOffset(e,n,a,o);this.applyPlacement(c,e)}).call(this.container())}})}(window.jQuery),function($){function t(){return new Date(Date.UTC.apply(Date,arguments))}function e(t,e){var i,s=$(t).data(),n={},a=new RegExp("^"+e.toLowerCase()+"([A-Z])"),e=new RegExp("^"+e.toLowerCase());for(var o in s)e.test(o)&&(i=o.replace(a,function(t,e){return e.toLowerCase()}),n[i]=s[o]);return n}function i(t){var e={};if(h[t]||(t=t.split("-")[0],h[t])){var i=h[t];return $.each(l,function(t,s){s in i&&(e[s]=i[s])}),e}}var s=function(t,e){this._process_options(e),this.element=$(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=$(u.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};s.prototype={constructor:s,_process_options:function(t){this._o=$.extend({},this._o,t);var e=this.o=$.extend({},this._o),i=e.language;switch(h[i]||(i=i.split("-")[0],h[i]||(i=r.language)),e.language=i,e.startView){case 2:case"decade":e.startView=2;break;case 1:case"year":e.startView=1;break;default:e.startView=0}switch(e.minViewMode){case 1:case"months":e.minViewMode=1;break;case 2:case"years":e.minViewMode=2;break;default:e.minViewMode=0}e.startView=Math.max(e.startView,e.minViewMode),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var s=u.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate=u.parseDate(e.startDate,s,e.language)),e.endDate!==1/0&&(e.endDate=u.parseDate(e.endDate,s,e.language)),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],$.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=$.map(e.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:$.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{mousedown:$.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var i=e||this.date,s=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:t,date:s,format:$.proxy(function(t){var e=t||this.o.format;return u.formatDate(i,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(t){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),u.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=$(this).css("z-index")}).first().css("z-index"))+10,e=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:e.top+i,left:e.left,zIndex:t})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=u.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.date<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.date>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+h[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+h[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=$.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),n=this.date.valueOf(),a=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()==i&&t.getUTCMonth()<s?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()==i&&t.getUTCMonth()>s)&&e.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==a.getFullYear()&&t.getUTCMonth()==a.getMonth()&&t.getUTCDate()==a.getDate()&&e.push("today"),n&&t.valueOf()==n&&e.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==$.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!=$.inArray(t.valueOf(),this.range)&&e.push("selected")),e},fill:function(){var e,i=new Date(this.viewDate),s=i.getUTCFullYear(),n=i.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf();this.picker.find(".datepicker-days thead th.datepicker-switch").text(h[this.o.language].months[n]+" "+s),this.picker.find("tfoot th.today").text(h[this.o.language].today).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(h[this.o.language].clear).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var p=t(s,n-1,28,0,0,0,0),d=u.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(d),p.setUTCDate(d-(p.getUTCDay()-this.o.weekStart+7)%7);var c=new Date(p);c.setUTCDate(c.getUTCDate()+42),c=c.valueOf();for(var f,m=[];p.valueOf()<c;){if(p.getUTCDay()==this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),y=new Date(+v+(11-v.getUTCDay())%7*864e5),b=new Date(+(b=t(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),g=(y-b)/864e5/7+1;m.push('<td class="cw">'+g+"</td>")}f=this.getClassNames(p),f.push("day");var w=this.o.beforeShowDay(p);void 0===w?w={}:"boolean"==typeof w?w={enabled:w}:"string"==typeof w&&(w={classes:w}),!1===w.enabled&&f.push("disabled"),w.classes&&(f=f.concat(w.classes.split(/\s+/))),w.tooltip&&(e=w.tooltip),f=$.unique(f),m.push('<td class="'+f.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()==this.o.weekEnd&&m.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var D=this.date&&this.date.getUTCFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");D&&D==s&&k.eq(this.date.getUTCMonth()).addClass("active"),(s<a||s>r)&&k.addClass("disabled"),s==a&&k.slice(0,o).addClass("disabled"),s==r&&k.slice(l+1).addClass("disabled"),m="",s=10*parseInt(s/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var x=-1;x<11;x++)m+='<span class="year'+(-1==x?" old":10==x?" new":"")+(D==s?" active":"")+(s<a||s>r?" disabled":"")+'">'+s+"</span>",s+=1;C.html(m)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i=$(e.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=u.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s)}this.fill();break;case"today":var n=new Date;n=t(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.o.todayBtn?null:"view";this._setDate(n,a);break;case"clear":var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var r=1,l=i.parent().find("span").index(i),h=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(t(h,l,r,0,0,0,0))}else{var h=parseInt(i.text(),10)||0,r=1,l=0;this.viewDate.setUTCFullYear(h),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(h,l,r,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var r=parseInt(i.text(),10)||1,h=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth();i.is(".old")?0===l?(l=11,h-=1):l-=1:i.is(".new")&&(11==l?(l=0,h+=1):l+=1),this._setDate(t(h,l,r,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,s,n=new Date(t.valueOf()),a=n.getUTCDate(),o=n.getUTCMonth(),r=Math.abs(e);if(e=e>0?1:-1,1==r)s=-1==e?function(){return n.getUTCMonth()==o}:function(){return n.getUTCMonth()!=i},i=o+e,n.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var l=0;l<r;l++)n=this.moveMonth(n,e);i=n.getUTCMonth(),n.setUTCDate(a),s=function(){return i!=n.getUTCMonth()}}for(;s();)n.setUTCDate(--a),n.setUTCMonth(i);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,s,n=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),n=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),n=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(n){this._trigger("changeDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+u.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var n=function(t,e){this.element=$(t),this.inputs=$.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,$(this.inputs).datepicker(e).bind("changeDate",$.proxy(this.dateUpdated,this)),this.pickers=$.map(this.inputs,function(t){return $(t).data("datepicker")}),this.updateDates()};n.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var t=$.map(this.dates,function(t){return t.valueOf()});$.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){var e=$(t.target).data("datepicker"),i=e.getUTCDate(),s=$.inArray(t.target,this.inputs),n=this.inputs.length;if(-1!=s){if(i<this.dates[s])for(;s>=0&&i<this.dates[s];)this.pickers[s--].setUTCDate(i);else if(i>this.dates[s])for(;s<n&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates()}},remove:function(){$.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var a=$.fn.datepicker,o=$.fn.datepicker=function(t){var a=Array.apply(null,arguments);a.shift();var o;return this.each(function(){var l=$(this),h=l.data("datepicker"),u="object"==typeof t&&t;if(!h){var p=e(this,"date"),d=$.extend({},r,p,u),c=i(d.language),f=$.extend({},r,c,p,u);if(l.is(".input-daterange")||f.inputs){var m={inputs:f.inputs||l.find("input").toArray()};l.data("datepicker",h=new n(this,$.extend(f,m)))}else l.data("datepicker",h=new s(this,f))}if("string"==typeof t&&"function"==typeof h[t]&&void 0!==(o=h[t].apply(h,a)))return!1}),void 0!==o?o:this},r=$.fn.datepicker.defaults={autoclose:!1,beforeShowDay:$.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},l=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=s;var h=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],
months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},u={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,u.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(e,i,n){if(e instanceof Date)return e;if("string"==typeof i&&(i=u.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){var a,o,r=/([\-+]\d+)([dmwy])/,l=e.match(/([\-+]\d+)([dmwy])/g);e=new Date;for(var p=0;p<l.length;p++)switch(a=r.exec(l[p]),o=parseInt(a[1]),a[2]){case"d":e.setUTCDate(e.getUTCDate()+o);break;case"m":e=s.prototype.moveMonth.call(s.prototype,e,o);break;case"w":e.setUTCDate(e.getUTCDate()+7*o);break;case"y":e=s.prototype.moveYear.call(s.prototype,e,o)}return t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}var d,c,a,l=e&&e.match(this.nonpunctuation)||[],e=new Date,f={},m=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,e=t(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);var y=i.parts.slice();if(l.length!=y.length&&(y=$(y).filter(function(t,e){return-1!==$.inArray(e,m)}).toArray()),l.length==y.length){for(var p=0,b=y.length;p<b;p++){if(d=parseInt(l[p],10),a=y[p],isNaN(d))switch(a){case"MM":c=$(h[n].months).filter(function(){var t=this.slice(0,l[p].length);return t==l[p].slice(0,t.length)}),d=$.inArray(c[0],h[n].months)+1;break;case"M":c=$(h[n].monthsShort).filter(function(){var t=this.slice(0,l[p].length);return t==l[p].slice(0,t.length)}),d=$.inArray(c[0],h[n].monthsShort)+1}f[a]=d}for(var g,p=0;p<m.length;p++)(g=m[p])in f&&!isNaN(f[g])&&v[g](e,f[g])}return e},formatDate:function(t,e,i){"string"==typeof e&&(e=u.parseFormat(e));var s={d:t.getUTCDate(),D:h[i].daysShort[t.getUTCDay()],DD:h[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:h[i].monthsShort[t.getUTCMonth()],MM:h[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;for(var t=[],n=$.extend([],e.separators),a=0,o=e.parts.length;a<=o;a++)n.length&&t.push(n.shift()),t.push(s[e.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};u.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+u.headTemplate+"<tbody></tbody>"+u.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+u.headTemplate+u.contTemplate+u.footTemplate+"</table></div></div>",$.fn.datepicker.DPGlobal=u,$.fn.datepicker.noConflict=function(){return $.fn.datepicker=a,this},$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=$(this);e.data("datepicker")||(t.preventDefault(),o.call(e,"show"))}),$(function(){o.call($('[data-provide="datepicker-inline"]'))})}(window.jQuery),function($){"use strict";$.fn.bdatepicker=$.fn.datepicker.noConflict(),$.fn.datepicker||($.fn.datepicker=$.fn.bdatepicker);var t=function(e){this.init("date",e,t.defaults),this.initPicker(e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{initPicker:function(t,e){this.options.viewformat||(this.options.viewformat=this.options.format),t.datepicker=$.fn.editableutils.tryParseJson(t.datepicker,!0),this.options.datepicker=$.extend({},e.datepicker,t.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=$.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=$('<a href="#"></a>').html(this.options.clear).click($.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append($('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,i){var s=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,s,i)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!$(t.currentTarget).is(".old")&&!$(t.currentTarget).is(".new")){var e=$(this).closest("form");setTimeout(function(){e.submit()},200)}})},parseDate:function(t,e){var i,s=null;return t&&(s=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(i=this.dpg.formatDate(s,e,this.options.datepicker.language),t!==i&&(s=null))),s}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),$.fn.editabletypes.date=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("datefield",e,t.defaults),this.initPicker(e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.date),$.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup($.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=$.extend({},$.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),$.fn.editabletypes.datefield=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("datetime",e,t.defaults),this.initPicker(e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.abstractinput),$.extend(t.prototype,{initPicker:function(t,e){this.options.viewformat||(this.options.viewformat=this.options.format),t.datetimepicker=$.fn.editableutils.tryParseJson(t.datetimepicker,!0),this.options.datetimepicker=$.extend({},e.datetimepicker,t.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=$.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(t){var e=$(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=$('<a href="#"></a>').html(this.options.clear).click($.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append($('<div class="editable-clear">').append(this.$clear)))},value2html:function(e,i){var s=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(!i)return s;t.superclass.value2html.call(this,s,i)},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(t){var e=$(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var i,s=null;return t&&(s=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(i=this.dpg.formatDate(s,e,this.options.datetimepicker.language,this.options.formatType),t!==i&&(s=null))),s}}),t.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),$.fn.editabletypes.datetime=t}(window.jQuery),function($){"use strict";var t=function(e){this.init("datetimefield",e,t.defaults),this.initPicker(e,t.defaults)};$.fn.editableutils.inherit(t,$.fn.editabletypes.datetime),$.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup($.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),t.defaults=$.extend({},$.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),$.fn.editabletypes.datetimefield=t}(window.jQuery)});