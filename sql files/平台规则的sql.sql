
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('331', 'coinName', '币种名称', '币种名称', '1', 'ITX', 'ICO_Rules_Coin_Config', '平台发币信息', '平台发币信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('332', 'coinCode', '币种Code', '币种Code', '1', 'ITX', 'ICO_Rules_Coin_Config', '平台发币信息', '平台发币信息', '2019-01-12 15:58:09', '2019-01-12 16:44:03', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('333', 'issuePrice', '货币价格', '货币价格', '1', '10', 'ICO_Rules_Coin_Config', '平台发币信息', '平台发币信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('334', 'setValue', '设定值', '设定值', '1', '100', 'ICO_Rules_Coin_Config', '平台发币信息', '平台发币信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('335', 'isLock', '自动锁仓', '自动锁仓', '2', '0', 'ICO_Rules_ICO_Config', 'ICO信息', 'ICO信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('336', 'icoLockStartTime', '锁仓开始时间', '锁仓开始时间', '5', '2019-01-16', 'ICO_Rules_ICO_Config', 'ICO信息', 'ICO信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('337', 'icoLockEndTime', '锁仓结束时间', '锁仓结束时间', '5', '2019-05-17', 'ICO_Rules_ICO_Config', 'ICO信息', 'ICO信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('338', 'icoLockday', '锁仓天数', '锁仓天数', '1', '20', 'ICO_Rules_ICO_Config', 'ICO信息', 'ICO信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('339', 'icoLockExperienceDeduct', '锁仓经验扣除', '锁仓经验扣除', '1', '100', 'ICO_Rules_ICO_Config', 'ICO信息', 'ICO信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('340', 'icoLockItxDeduct', '锁仓itx扣除', '锁仓itx扣除', '1', '10', 'ICO_Rules_ICO_Config', 'ICO信息', 'ICO信息', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('341', 'regExperience', '注册赠送经验值', '注册赠送经验值', '1', '2000', 'ICO_Rules_Common_Config', '常规业务设置', '常规业务设置', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('342', 'lockExperienceDeduct', '锁仓扣除经验', '锁仓扣除经验', '1', '10', 'ICO_Rules_Common_Config', '常规业务设置', '常规业务设置', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('343', 'ItxDeduct', 'Itx扣除', 'Itx扣除', '1', '10', 'ICO_Rules_Common_Config', '常规业务设置', '常规业务设置', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('344', 'releaseExperienceDeduct', '释放扣除经验值', '释放扣除经验值', '1', '20', 'ICO_Rules_Common_Config', '常规业务设置', '常规业务设置', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('345', 'firstPrize', '首持奖励', '首持奖励', '1', '66', 'ICO_Rules_Commission_Config', '推荐佣金设置', '推荐佣金设置', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');
INSERT INTO `app_config` (`configid`, `configkey`, `configname`, `configdescription`, `datatype`, `value`, `typekey`, `typename`, `description`, `created`, `modified`, `saasId`, `ishidden`) VALUES ('346', 'recommendReward', '推荐奖励', '推荐奖励', '1', '5', 'ICO_Rules_Commission_Config', '推荐佣金设置', '推荐佣金设置', '2019-01-12 15:58:09', '2019-02-15 15:15:13', 'hurong_system', '0');




alter table app_customer add level varchar(20) COLLATE utf8_bin DEFAULT '0' COMMENT '账户等级';
alter table app_customer add experience bigint(20) DEFAULT '0' COMMENT '账户经验';


CREATE TABLE `ico_account` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customerId` bigint(22) DEFAULT NULL COMMENT '用户Id',
  `created` datetime DEFAULT NULL COMMENT '创建时间',
  `modified` datetime DEFAULT NULL COMMENT '修改时间',
  `coinName` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '币名称',
  `coinCode` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '币Code',
  `phone` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '手机号',
  `storageMoney` decimal(20,10) DEFAULT '0.0000000000' COMMENT '存储总额',
  `coldMoney` decimal(20,10) DEFAULT '0.0000000000' COMMENT '冻结总额',
  `hotMoney` decimal(20,10) DEFAULT '0.0000000000' COMMENT '流通总额',
  `publicKey` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `version` int(11) DEFAULT '0' COMMENT '版本',
  PRIMARY KEY (`id`),
  KEY `ico_account_customerId` (`customerId`) USING BTREE,
  KEY `ico_account_version` (`version`)
) ENGINE=InnoDB AUTO_INCREMENT=35 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='itx币管理';



CREATE TABLE `ico_award_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customer_id` bigint(20) DEFAULT NULL COMMENT '账户id',
  `customer_email` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '账户邮箱',
  `customer_mobile` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '账户手机',
  `account_id` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '流水id',
  `award_type` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '推荐类型（1 首持奖励， 2  推荐奖励）',
  `coid_id` bigint(20) DEFAULT NULL COMMENT '币id',
  `coinCode` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '币种（CNY）',
  `coinName` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '虚拟币种汉语名称（ 比特币 莱特币...）',
  `referrals_id` bigint(20) DEFAULT NULL COMMENT '下级id',
  `referrals_email` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '被推荐人邮箱',
  `referrals_mobile` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '被推荐人手机号',
  `award_radix` decimal(20,10) DEFAULT '0.0000000000' COMMENT '奖励基数',
  `award_quantity` decimal(20,10) DEFAULT '0.0000000000' COMMENT '奖励数量',
  `award_num` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '奖励流水号',
  `status` varchar(10) COLLATE utf8_bin DEFAULT '1' COMMENT '状态(1 奖励发放中，2 成功 ，3 失败)',
  `saasid` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL COMMENT '创建时间',
  `modified` datetime DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;


CREATE TABLE `ico_buy_order` (
  `id` bigint(64) NOT NULL AUTO_INCREMENT,
  `orderNumber` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '订单号',
  `customerId` bigint(64) DEFAULT NULL COMMENT '用户Id',
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `payCoinName` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '支付币种名称',
  `payCoinCode` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '支付币种code',
  `payNumber` decimal(20,10) DEFAULT NULL COMMENT '支付数量',
  `buyPrice` decimal(20,10) DEFAULT NULL COMMENT '购买定价',
  `buyCoinCode` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '购买币种名称',
  `buyNumber` decimal(20,10) DEFAULT NULL COMMENT '购买数量',
  `poundageRate` decimal(20,10) DEFAULT NULL COMMENT '手续费费率',
  `poundage` decimal(20,10) DEFAULT NULL COMMENT '手续费',
  PRIMARY KEY (`id`),
  KEY `ico_buy_order_customerId` (`customerId`) USING BTREE,
  KEY `ico_buy_order_payCode` (`payCoinCode`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='购买平台币订单';


CREATE TABLE `ico_customer_level` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customer_id` bigint(20) DEFAULT NULL COMMENT '用户id',
  `level_id` bigint(20) DEFAULT NULL COMMENT '等级id',
  `gradeName` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '等级名称',
  `experience` bigint(20) DEFAULT NULL COMMENT '经验值',
  `deductExperience` bigint(20) DEFAULT '0' COMMENT '总扣除经验值',
  `awardExperience` bigint(20) DEFAULT '0' COMMENT '总奖励经验值',
  `saasid` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `vesion` int(11) DEFAULT NULL COMMENT '版本',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;


CREATE TABLE `ico_dividend_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customer_id` bigint(20) DEFAULT NULL COMMENT '账户id',
  `customer_email` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '账户邮箱',
  `customer_mobile` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '账户手机',
  `customer_level` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '账户等级',
  `hedgeQuantity` decimal(20,10) DEFAULT '0.0000000000' COMMENT '锁仓量',
  `grossCommission` decimal(20,10) DEFAULT '0.0000000000' COMMENT '手续费总量',
  `coid_id` bigint(20) DEFAULT NULL COMMENT '币id',
  `coinCode` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '币种(CNY)',
  `coinName` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '虚拟币种汉语名称(比特币 莱特币..)',
  `dividend_radix` decimal(20,10) DEFAULT '0.0000000000' COMMENT '分红数量',
  `dividend_num` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '分红流水号',
  `status` varchar(10) COLLATE utf8_bin DEFAULT '1' COMMENT '状态(1 分红发放中，2 成功 ，3 失败)',
  `saasid` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL COMMENT '创建时间',
  `modified` datetime DEFAULT NULL COMMENT '修改时间',
  `rebate_ratio` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '返佣占比',
  `additionRatio` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '加成比例',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

CREATE TABLE `ico_experience` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customer_id` bigint(20) DEFAULT NULL COMMENT '账户id',
  `customer_email` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '账户邮箱',
  `customer_mobile` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '账户手机',
  `type` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '1收入 ，2 支出',
  `account_type` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '交易类型（0101 锁仓奖励，0102 注册赠送，0201 锁仓扣除，0202 释放扣除）',
  `coinNum` decimal(20,10) DEFAULT NULL COMMENT '持币数量',
  `experience` bigint(20) DEFAULT NULL COMMENT '经验值（无正负）',
  `experienceNum` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '流水号',
  `oldLevel_id` bigint(20) DEFAULT NULL,
  `oldLevel` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '原等级',
  `newLevel_id` bigint(20) DEFAULT NULL,
  `newLevel` varchar(20) COLLATE utf8_bin DEFAULT NULL,
  `upgradeNote` varchar(1000) COLLATE utf8_bin DEFAULT NULL COMMENT '升级备注',
  `saasid` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL COMMENT '创建时间',
  `modified` datetime DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=189 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;


CREATE TABLE `ico_lock_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customerId` bigint(22) DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `saasid` varchar(22) COLLATE utf8_bin DEFAULT NULL,
  `coinCode` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '币种Code',
  `type` int(11) DEFAULT '0' COMMENT '是否ICO阶段(1.ico阶段0.非ico)',
  `number` decimal(20,10) DEFAULT NULL COMMENT '数量',
  `lockDay` int(11) DEFAULT NULL COMMENT '锁仓天数',
  `state` int(11) DEFAULT '0' COMMENT '状态(0.待释放1.已释放)',
  `lockDeduct` decimal(20,10) DEFAULT NULL COMMENT '锁仓扣除',
  `lockDeductType` int(11) DEFAULT NULL COMMENT '锁仓扣除类型（1.经验扣除2.itx扣除）',
  `releaseDeduct` decimal(20,10) DEFAULT NULL COMMENT '释放扣除',
  `releaseDeductType` int(11) DEFAULT NULL COMMENT '释放扣除类型（1.经验扣除2.itx扣除）',
  `releaseDate` datetime DEFAULT NULL COMMENT '释放时间',
  `releaseType` int(11) DEFAULT '0' COMMENT '是否提前释放1',
  `currentLockSum` decimal(20,10) DEFAULT NULL COMMENT '当前锁仓总数',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=55 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='锁仓记录表';

CREATE TABLE `ico_lock_reward` (
  `id` bigint(64) NOT NULL AUTO_INCREMENT,
  `customerId` bigint(64) DEFAULT NULL COMMENT '用户Id',
  `created` datetime DEFAULT NULL COMMENT '创建时间',
  `modified` datetime DEFAULT NULL COMMENT '修改时间',
  `isFirst` int(11) DEFAULT NULL COMMENT '是否第一次',
  `countingTime` bigint(20) DEFAULT NULL COMMENT '锁仓结算奖励时间',
  PRIMARY KEY (`id`),
  KEY `ico_lock_reward_customerId` (`customerId`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='锁仓奖励辅助表';


CREATE TABLE `ico_rule_detailed` (
  `id` bigint(64) NOT NULL AUTO_INCREMENT,
  `periods` varchar(10) DEFAULT NULL COMMENT '{name:''期数''}',
  `coinCode` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '{name:''币种code''}',
  `totalNum` decimal(20,6) DEFAULT NULL,
  `saleNum` decimal(20,6) DEFAULT NULL COMMENT '{name:''可售数量''}',
  `saleSurplusNum` decimal(20,6) DEFAULT '0.000000' COMMENT '可售剩余数量',
  `state` varchar(10) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '{name:''状态  0未发行  1已发行''}',
  `saasid` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL COMMENT '{name:''创建时间''}',
  `modified` datetime DEFAULT NULL COMMENT '{name:''修改时间''}',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COMMENT='货币发行';

CREATE TABLE `ico_transaction_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `saasid` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL COMMENT '创建时间',
  `modified` datetime DEFAULT NULL COMMENT '修改时间',
  `projectNumber` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '流水号',
  `type` int(11) DEFAULT NULL COMMENT '类型( 11.锁仓12.释放21转账31分红32推荐奖励 41.充币42.提币51.买入52.卖出)',
  `coinCode` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '币种Code',
  `transactionCount` decimal(20,10) DEFAULT NULL COMMENT '交易量',
  `totalMoney` decimal(20,10) DEFAULT NULL COMMENT '总数量',
  `hotMoney` decimal(20,10) DEFAULT NULL COMMENT '可用数量',
  `coldMoney` decimal(20,10) DEFAULT NULL COMMENT '冻结数量',
  `customerId` bigint(64) DEFAULT NULL COMMENT '用户Id',
  `state` int(11) DEFAULT NULL COMMENT '状态类型(101冻结 默认102解冻201.支出202.收入)',
  `remark` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '备注',
  `foreignKey` bigint(64) DEFAULT NULL COMMENT '业务外键Id',
  `isShow` int(11) DEFAULT '0' COMMENT '0不显示1.显示',
  PRIMARY KEY (`id`),
  KEY `ico_transaction_record_customerId` (`customerId`) USING BTREE,
  KEY `ico_transaction_foreignKey` (`foreignKey`)
) ENGINE=InnoDB AUTO_INCREMENT=151 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='交易流水';

CREATE TABLE `ico_transfer_accounts` (
  `id` bigint(64) NOT NULL AUTO_INCREMENT,
  `serialNumber` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '流水号',
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `customerId` bigint(64) DEFAULT NULL COMMENT '用户Id',
  `toCustomerId` bigint(64) DEFAULT NULL COMMENT '转入方用户Id',
  `coinCode` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '账转币种',
  `money` decimal(20,10) DEFAULT NULL COMMENT '转账金额',
  `saasid` varchar(22) COLLATE utf8_bin DEFAULT NULL,
  `remark` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`id`),
  KEY `ico_transfer_account` (`customerId`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='转账记录表';

CREATE TABLE `ico_upgrade_config` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `saasid` varchar(22) DEFAULT NULL,
  `gradeName` varchar(22) DEFAULT NULL COMMENT '等级名称',
  `upConditions` int(11) DEFAULT '1' COMMENT '升级条件:1.大于等于',
  `conditionPara` bigint(64) DEFAULT NULL COMMENT '条件参数',
  `additionRatio` varchar(22) DEFAULT NULL COMMENT '加成比例',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 COMMENT='升级配置';



CREATE TABLE `ico_upgrade_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customer_id` bigint(20) DEFAULT NULL COMMENT '用户id',
  `oldLevel_id` bigint(20) DEFAULT NULL,
  `oldLevel` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '旧等级名称',
  `newLevel_id` bigint(20) DEFAULT NULL,
  `newLevel` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '新等级名称',
  `upgradeNote` varchar(1000) COLLATE utf8_bin DEFAULT NULL COMMENT '升级备注',
  `type` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '等级变化类型（1，升级，2 降级）',
  `saasid` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

INSERT INTO `ico_upgrade_config` (`id`, `created`, `modified`, `saasid`, `gradeName`, `upConditions`, `conditionPara`, `additionRatio`) VALUES ('2', '2019-01-12 20:05:25', '2019-01-12 20:05:25', NULL, '一级', '1', '2000', '10');
INSERT INTO `ico_upgrade_config` (`id`, `created`, `modified`, `saasid`, `gradeName`, `upConditions`, `conditionPara`, `additionRatio`) VALUES ('3', '2019-01-23 19:30:53', '2019-01-23 19:30:53', NULL, '二级', '1', '2500', '15');
INSERT INTO `ico_upgrade_config` (`id`, `created`, `modified`, `saasid`, `gradeName`, `upConditions`, `conditionPara`, `additionRatio`) VALUES ('4', '2019-01-23 19:31:09', '2019-01-23 19:31:09', NULL, '三级', '1', '3000', '20');
INSERT INTO `ico_upgrade_config` (`id`, `created`, `modified`, `saasid`, `gradeName`, `upConditions`, `conditionPara`, `additionRatio`) VALUES ('5', '2019-01-23 19:31:30', '2019-01-23 19:31:30', NULL, '四级', '1', '3500', '22');
INSERT INTO `ico_upgrade_config` (`id`, `created`, `modified`, `saasid`, `gradeName`, `upConditions`, `conditionPara`, `additionRatio`) VALUES ('6', '2019-01-23 19:31:54', '2019-01-23 19:31:54', NULL, '五级', '1', '3600', '24');
INSERT INTO `ico_upgrade_config` (`id`, `created`, `modified`, `saasid`, `gradeName`, `upConditions`, `conditionPara`, `additionRatio`) VALUES ('7', '2019-01-23 19:32:12', '2019-01-23 19:32:12', NULL, '六级', '1', '3800', '25');
INSERT INTO `ico_upgrade_config` (`id`, `created`, `modified`, `saasid`, `gradeName`, `upConditions`, `conditionPara`, `additionRatio`) VALUES ('8', '2019-01-26 11:08:43', '2019-01-26 11:08:43', NULL, '七级', '1', '3800', '26');


-- 日期 2019年3月21日更新
CREATE TABLE `ico_send_exp` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customerId` varchar(22) COLLATE utf8_bin DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `state` int(11) DEFAULT '0',
  `countingTime` bigint(20) DEFAULT NULL,
  `number` decimal(20,10) DEFAULT NULL,
  `releaseDate` bigint(20) DEFAULT NULL,
  `hour` int(11) DEFAULT NULL,
  `experience` bigint(20) DEFAULT NULL,
  `lockId` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=79 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;
-- 锁仓表添加字段
alter table ico_lock_record add releaseDeductNum decimal(20,10) DEFAULT '0' COMMENT '释放扣币数量';
alter table ico_lock_record add actualReleaseNum decimal(20,10) DEFAULT '0' COMMENT '实际释放数量';
alter table ico_lock_record add actualReleaseTime datetime  COMMENT '实际释放时间';
CREATE TABLE `ico_lock_append_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customerId` bigint(22) DEFAULT NULL COMMENT '用户id',
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `saasid` varchar(22) COLLATE utf8_bin DEFAULT NULL,
  `coinCode` varchar(22) COLLATE utf8_bin DEFAULT NULL COMMENT '币种名称',
  `appendDay` int(11) DEFAULT NULL COMMENT '追加天数',
  `releaseDate` datetime DEFAULT NULL COMMENT '释放时间',
  `lockId` bigint(20) DEFAULT NULL COMMENT '锁仓Id',
  `experience` bigint(20) DEFAULT NULL COMMENT '获得经验',
  `number` decimal(20,10) DEFAULT NULL COMMENT '数量',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='追加记录';
-- 等级排序字段
alter table ico_upgrade_config add sort int(11) COMMENT '等级排序';
alter table ico_customer_level add sort int(11) COMMENT '等级排序';
-- 同步sort 字段到 ico_customer_level
UPDATE  ico_customer_level icl INNER JOIN ico_upgrade_config iuc  on icl.level_id=iuc.id  set icl.sort=iuc.sort;
CREATE TABLE `ico_dividend_manual_record` (
  `id` bigint(64) NOT NULL AUTO_INCREMENT,
  `customerId` bigint(64) DEFAULT NULL COMMENT '用户id',
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `coinCode` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '币种Code',
  `reason` varchar(225) COLLATE utf8_bin DEFAULT NULL COMMENT '分红原因',
  `dividendNum` decimal(20,10) DEFAULT NULL COMMENT '分红总基数',
  `number` decimal(20,10) DEFAULT NULL COMMENT '获得数量',
  `accountAtio` decimal(20,10) DEFAULT NULL COMMENT '自身占比',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='后台手动分红记录';

CREATE TABLE `klg_upgrade_record` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `customerId` bigint(20) DEFAULT NULL COMMENT '用户id',
  `oldLevelId` bigint(20) DEFAULT NULL,
  `oldLevel` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '旧等级名称',
  `newLevelId` bigint(20) DEFAULT NULL,
  `newLevel` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '新等级名称',
  `upgradeNote` varchar(1000) COLLATE utf8_bin DEFAULT NULL COMMENT '升级备注',
  `type` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '等级变化类型（1，升级，2 降级）',
  `saasid` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `oldGradation` decimal(20,10) DEFAULT NULL COMMENT '老的级别差',
  `oldPointAlgebra` int(11) DEFAULT NULL COMMENT '老的见点代数',
  `nowGradation` decimal(20,10) DEFAULT NULL COMMENT '新的级别差',
  `nowPointAlgebra` int(11) DEFAULT NULL COMMENT '新的见点代数',
  `created` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- 2019年6月4日 增项
alter table klg_level_config add buyNums VARCHAR(256) DEFAULT null COMMENT '购买限制';
alter table klg_level_config add maxRewardTime int(11) DEFAULT null COMMENT '最高奖励时长';
alter table klg_sell_transaction add sellDay int(11) COMMENT '卖出天数';
alter table klg_sell_transaction add sellEndTime datetime COMMENT '卖出时间';
